{% extends "base.html" %}

{% block title %}{{ restaurant_name }} - Authentic Mediterranean Cuisine{% endblock %}

{% block content %}
<!-- Hero Section with Carousel -->
<section id="hero" class="hero-section">
    <div id="heroCarousel" class="carousel slide carousel-fade" data-bs-ride="carousel">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="0" class="active"></button>
            <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="1"></button>
            <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="2"></button>
        </div>
        
        <div class="carousel-inner">
            <div class="carousel-item active">
                <div class="hero-slide" style="background-image: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=1600');">
                    <div class="hero-content">
                        <h1 class="display-3 fw-bold mb-4" data-aos="fade-up">Welcome to {{ restaurant_name }}</h1>
                        <p class="lead mb-4" data-aos="fade-up" data-aos-delay="100">Experience the Authentic Flavors of the Mediterranean</p>
                        <div data-aos="fade-up" data-aos-delay="200">
                            <a href="{{ url_for('main.reservations') }}" class="btn btn-primary btn-lg me-3">
                                <i class="fas fa-calendar-check me-2"></i>Reserve a Table
                            </a>
                            <a href="{{ url_for('main.menu') }}" class="btn btn-outline-light btn-lg">
                                <i class="fas fa-book-open me-2"></i>View Menu
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="carousel-item">
                <div class="hero-slide" style="background-image: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=1600');">
                    <div class="hero-content">
                        <h1 class="display-3 fw-bold mb-4">Fresh, Authentic Cuisine</h1>
                        <p class="lead mb-4">Prepared with the Finest Ingredients</p>
                        <a href="{{ url_for('main.menu') }}" class="btn btn-primary btn-lg">Explore Our Menu</a>
                    </div>
                </div>
            </div>
            
            <div class="carousel-item">
                <div class="hero-slide" style="background-image: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=1600');">
                    <div class="hero-content">
                        <h1 class="display-3 fw-bold mb-4">Perfect Ambiance</h1>
                        <p class="lead mb-4">For Every Occasion</p>
                        <a href="{{ url_for('main.events') }}" class="btn btn-primary btn-lg">View Events</a>
                    </div>
                </div>
            </div>
        </div>
        
        <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon"></span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon"></span>
        </button>
    </div>
</section>

<!-- Features Section -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="row g-4 text-center">
            <div class="col-md-4" data-aos="fade-up">
                <div class="feature-box p-4">
                    <div class="feature-icon mb-3">
                        <i class="fas fa-leaf fa-3x text-primary"></i>
                    </div>
                    <h4>Fresh Ingredients</h4>
                    <p class="text-muted">We source only the freshest local and imported ingredients for authentic Mediterranean flavors.</p>
                </div>
            </div>
            <div class="col-md-4" data-aos="fade-up" data-aos-delay="100">
                <div class="feature-box p-4">
                    <div class="feature-icon mb-3">
                        <i class="fas fa-award fa-3x text-primary"></i>
                    </div>
                    <h4>Award-Winning</h4>
                    <p class="text-muted">Recognized for excellence in Mediterranean cuisine with multiple culinary awards.</p>
                </div>
            </div>
            <div class="col-md-4" data-aos="fade-up" data-aos-delay="200">
                <div class="feature-box p-4">
                    <div class="feature-icon mb-3">
                        <i class="fas fa-heart fa-3x text-primary"></i>
                    </div>
                    <h4>Made with Love</h4>
                    <p class="text-muted">Every dish is crafted with passion and care by our experienced chefs.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Featured Menu Items -->
{% if featured_items %}
<section class="py-5">
    <div class="container">
        <div class="text-center mb-5" data-aos="fade-up">
            <h2 class="display-5 fw-bold mb-3">Featured Dishes</h2>
            <p class="lead text-muted">Discover our chef's special creations</p>
        </div>
        
        <div class="row g-4">
            {% for item in featured_items %}
            <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="{{ loop.index * 100 }}">
                <div class="card menu-card h-100 shadow-sm">
                    <div class="card-img-wrapper">
                        {% if item.image_url %}
                            <img src="{{ url_for('static', filename='uploads/' + item.image_url) }}" 
                                 alt="{{ item.name }}" 
                                 class="menu-item-image">
                            {% else %}
                            <img src="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=300" 
                                 alt="{{ item.name }}" 
                                 class="menu-item-image">
                            {% endif %}
                             class="card-img-top" alt="{{ item.name }}">
                        <div class="card-img-overlay-badge">
                            <span class="badge bg-primary">Featured</span>
                        </div>
                    </div>
                    <div class="card-body">
                        <h5 class="card-title">{{ item.name }}</h5>
                        <p class="card-text text-muted">{{ item.description }}</p>
                        <div class="d-flex justify-content-between align-items-center">
                            <span class="h5 mb-0 text-primary">${{ "%.2f"|format(item.price) }}</span>
                            {% if item.preparation_time %}
                            <small class="text-muted">
                                <i class="far fa-clock"></i> {{ item.preparation_time }} min
                            </small>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-5" data-aos="fade-up">
            <a href="{{ url_for('main.menu') }}" class="btn btn-primary btn-lg">
                View Full Menu <i class="fas fa-arrow-right ms-2"></i>
            </a>
        </div>
    </div>
</section>
{% endif %}

<!-- About Section -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6 mb-4 mb-lg-0" data-aos="fade-right">
                <img src="https://images.unsplash.com/photo-1600565193348-f74bd3c7ccdf?w=800" 
                     alt="Restaurant Interior" class="img-fluid rounded shadow">
            </div>
            <div class="col-lg-6" data-aos="fade-left">
                <h2 class="display-5 fw-bold mb-4">Our Story</h2>
                <p class="lead">A Passion for Mediterranean Cuisine</p>
                <p class="text-muted mb-4">
                    Since opening our doors, we've been dedicated to bringing authentic Mediterranean 
                    flavors to our community. Our chefs combine traditional recipes passed down through 
                    generations with modern culinary techniques to create unforgettable dining experiences.
                </p>
                <p class="text-muted mb-4">
                    Every dish tells a story of the Mediterranean coastâ€”from the olive groves of Greece 
                    to the bustling markets of Turkey. We invite you to join us on this culinary journey.
                </p>
                <a href="{{ url_for('main.about') }}" class="btn btn-primary">
                    Learn More About Us <i class="fas fa-arrow-right ms-2"></i>
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Reviews Section -->
{% if reviews %}
<section class="py-5">
    <div class="container">
        <div class="text-center mb-5" data-aos="fade-up">
            <h2 class="display-5 fw-bold mb-3">What Our Guests Say</h2>
            <div class="stars mb-3">
                {% for i in range(5) %}
                <i class="fas fa-star text-warning"></i>
                {% endfor %}
            </div>
        </div>
        
        <div id="reviewsCarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
                {% for review in reviews %}
                <div class="carousel-item {% if loop.first %}active{% endif %}">
                    <div class="row justify-content-center">
                        <div class="col-lg-8">
                            <div class="review-card text-center p-5">
                                <div class="stars mb-3">
                                    {% for i in range(review.rating) %}
                                    <i class="fas fa-star text-warning"></i>
                                    {% endfor %}
                                </div>
                                <p class="lead mb-4">"{{ review.comment }}"</p>
                                <h6 class="mb-0">{{ review.customer_name }}</h6>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            
            <button class="carousel-control-prev" type="button" data-bs-target="#reviewsCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon bg-primary rounded-circle p-3"></span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#reviewsCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon bg-primary rounded-circle p-3"></span>
            </button>
        </div>
        
        <div class="text-center mt-4">
            <a href="{{ url_for('main.reviews') }}" class="btn btn-outline-primary">
                Read All Reviews
            </a>
        </div>
    </div>
</section>
{% endif %}

<!-- Upcoming Events -->
{% if upcoming_events %}
<section class="py-5 bg-dark text-white">
    <div class="container">
        <div class="text-center mb-5" data-aos="fade-up">
            <h2 class="display-5 fw-bold mb-3">Upcoming Events</h2>
            <p class="lead">Join us for special occasions</p>
        </div>
        
        <div class="row g-4">
            {% for event in upcoming_events %}
            <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="{{ loop.index * 100 }}">
                <div class="card event-card h-100 bg-transparent text-white border-light">
                    {% if event.image_url %}
                    <img src="{{ url_for('static', filename='uploads/' + event.image_url) }}" 
                         class="card-img-top" alt="{{ event.title }}">
                    {% endif %}
                    <div class="card-body">
                        <div class="badge bg-primary mb-3">
                            {{ event.event_date.strftime('%B %d, %Y') }}
                        </div>
                        <h5 class="card-title">{{ event.title }}</h5>
                        <p class="card-text">{{ event.description[:100] }}...</p>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-5">
            <a href="{{ url_for('main.events') }}" class="btn btn-light btn-lg">
                View All Events
            </a>
        </div>
    </div>
</section>
{% endif %}

<!-- Gallery Preview -->
{% if gallery_images %}
<section class="py-5">
    <div class="container">
        <div class="text-center mb-5" data-aos="fade-up">
            <h2 class="display-5 fw-bold mb-3">Gallery</h2>
            <p class="lead text-muted">A glimpse into our world</p>
        </div>
        
        <div class="row g-3">
            {% for image in gallery_images[:6] %}
            <div class="col-lg-4 col-md-6" data-aos="zoom-in" data-aos-delay="{{ loop.index * 50 }}">
                <div class="gallery-item">
                    <img src="{{ url_for('static', filename='uploads/' + image.image_url) }}" 
                         alt="{{ image.title or 'Gallery Image' }}" 
                         class="img-fluid rounded shadow-sm">
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-5">
            <a href="{{ url_for('main.gallery') }}" class="btn btn-primary btn-lg">
                View Full Gallery
            </a>
        </div>
    </div>
</section>
{% endif %}

<!-- CTA Section -->
<section class="py-5 bg-primary text-white">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-8 text-center text-lg-start mb-4 mb-lg-0">
                <h2 class="display-6 fw-bold mb-3">Ready to Experience Mediterranean Excellence?</h2>
                <p class="lead mb-0">Reserve your table today and let us take you on a culinary journey.</p>
            </div>
            <div class="col-lg-4 text-center text-lg-end">
                <a href="{{ url_for('main.reservations') }}" class="btn btn-light btn-lg">
                    <i class="fas fa-calendar-check me-2"></i>Book Now
                </a>
            </div>
        </div>
    </div>
</section>
{% endblock %}